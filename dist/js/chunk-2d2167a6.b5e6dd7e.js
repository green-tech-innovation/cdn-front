(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2167a6"],{c344:function(e,t,c){"use strict";c.r(t);c("b0c0"),c("a4d3"),c("e01a");var a=c("7a23"),n={key:0,class:"hstack mb-3"},o={class:"ms-auto"},l={key:0,class:"hstack"},r=Object(a["createElementVNode"])("i",{class:"bx bx-window-close font-size-16 align-middle me-2"},null,-1),s=Object(a["createTextVNode"])(" Refuser le rapport "),i=Object(a["createElementVNode"])("i",{class:"bx bx-check-double font-size-16 align-middle me-2"},null,-1),d=Object(a["createTextVNode"])(" Accepter le rapport "),b={key:1,class:"text-center"},u=Object(a["createElementVNode"])("div",{class:"spinner-border text-primary",role:"status"},[Object(a["createElementVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),m=[u],O={key:1,class:"row"},j={class:"col-lg-12"},p={class:"card"},V={class:"card-body"},N={class:"card-title text-primary mb-3"},v=Object(a["createElementVNode"])("b",null,"Fichier du projet",-1),E=Object(a["createTextVNode"])(" : "),g=["href"],h=Object(a["createElementVNode"])("i",{class:"bx bx-download font-size-14 align-middle mx-1 text-white"},null,-1),f=Object(a["createTextVNode"])(" Télécharger le Fichier "),y=[h,f],k=Object(a["createElementVNode"])("b",null,"Montant alloué",-1),x=Object(a["createElementVNode"])("b",null,"Date debut",-1),_=Object(a["createElementVNode"])("b",null,"Date Fin",-1),S=Object(a["createElementVNode"])("h6",null,[Object(a["createElementVNode"])("b",null,"Description")],-1),T={class:"card-title-desc"},w={key:0,class:"bg-light p-2 mt-3 mb-0 pt-3"},B=Object(a["createElementVNode"])("b",null,"Rapport",-1),C=Object(a["createTextVNode"])(" : "),D=Object(a["createElementVNode"])("br",null,null,-1),R=["href"],A=Object(a["createElementVNode"])("i",{class:"bx bx-download font-size-14 align-middle mx-1 text-white"},null,-1),L=Object(a["createTextVNode"])(" Télécharger le Fichier "),F=[A,L],U=Object(a["createElementVNode"])("b",null,"Date d'envoie",-1),M=Object(a["createTextVNode"])(" : "),P=Object(a["createElementVNode"])("br",null,null,-1),z={key:1,class:"bg-light border shadow p-2 mt-3 mb-0 pt-3"},G=Object(a["createElementVNode"])("p",null,[Object(a["createElementVNode"])("b",null,"Statut du rapport"),Object(a["createTextVNode"])(" : "),Object(a["createElementVNode"])("br"),Object(a["createElementVNode"])("span",{class:"text-danger"},"Réjété")],-1),q=Object(a["createElementVNode"])("b",null,"Message de rejet",-1),H=Object(a["createTextVNode"])(" : "),I=Object(a["createElementVNode"])("br",null,null,-1),J={key:2,class:"bg-light border shadow p-2 mt-3 mb-0 pt-3"},$=Object(a["createElementVNode"])("p",null,[Object(a["createElementVNode"])("b",null,"Statut du rapport"),Object(a["createTextVNode"])(" : "),Object(a["createElementVNode"])("br"),Object(a["createElementVNode"])("span",{class:"text-success"},"Accepté")],-1),K=Object(a["createElementVNode"])("b",null,"Date d'approbation",-1),Q=Object(a["createTextVNode"])(" : "),W=Object(a["createElementVNode"])("br",null,null,-1),X={class:"mb-3"},Y=Object(a["createElementVNode"])("label",{for:""},"Message de rejet",-1),Z={key:0,class:"mt-3"},ee=Object(a["createElementVNode"])("input",{type:"submit",value:"Envoyer",class:"btn btn-primary"},null,-1),te=[ee],ce={key:1,class:"mt-3 text-center"},ae=Object(a["createElementVNode"])("div",{class:"spinner-border text-primary",role:"status"},[Object(a["createElementVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),ne=[ae];function oe(e,t,c,u,h,f){var A=Object(a["resolveComponent"])("PageHeader"),L=Object(a["resolveComponent"])("b-button"),ee=Object(a["resolveComponent"])("b-modal"),ae=Object(a["resolveComponent"])("Layout");return Object(a["openBlock"])(),Object(a["createBlock"])(ae,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(A,{title:h.title,items:h.items},null,8,["title","items"]),0==h.sub_activity.approved&&h.sub_activity.report?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createElementVNode"])("div",o,[h.loadingSetStatut?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",b,m)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createVNode"])(L,{variant:"danger",onClick:t[0]||(t[0]=function(e){return u.doesAddOpen=!0})},{default:Object(a["withCtx"])((function(){return[r,s]})),_:1}),Object(a["createVNode"])(L,{variant:"success",class:"ms-3",onClick:t[1]||(t[1]=function(e){return f.setStatus(1)})},{default:Object(a["withCtx"])((function(){return[i,d]})),_:1})]))])])):Object(a["createCommentVNode"])("",!0),h.sub_activity.id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",O,[Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("div",V,[Object(a["createElementVNode"])("h4",N,Object(a["toDisplayString"])(h.sub_activity.name),1),Object(a["createElementVNode"])("p",null,[v,E,h.sub_activity.file?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:0,href:h.STORAGE_URL+h.sub_activity.file,target:"_blank",class:"btn btn-sm btn-success rounded-pill"},y,8,g)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("p",null,[k,Object(a["createTextVNode"])(" : "+Object(a["toDisplayString"])(h.sub_activity.amount)+" F CFA",1)]),Object(a["createElementVNode"])("p",null,[x,Object(a["createTextVNode"])(" : "+Object(a["toDisplayString"])(h.sub_activity.date_start),1)]),Object(a["createElementVNode"])("p",null,[_,Object(a["createTextVNode"])(" : "+Object(a["toDisplayString"])(h.sub_activity.date_end),1)]),S,Object(a["createElementVNode"])("p",T,Object(a["toDisplayString"])(h.sub_activity.description),1),h.sub_activity.report?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",w,[Object(a["createElementVNode"])("p",null,[B,C,D,Object(a["createElementVNode"])("a",{href:h.STORAGE_URL+h.sub_activity.report,target:"_blank",class:"btn btn-sm btn-success rounded-pill"},F,8,R)]),Object(a["createElementVNode"])("p",null,[U,M,P,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(h.sub_activity.date_report),1)])])):Object(a["createCommentVNode"])("",!0),-1==h.sub_activity.approved?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",z,[G,Object(a["createElementVNode"])("p",null,[q,H,I,Object(a["createTextVNode"])(Object(a["toDisplayString"])(h.sub_activity.message),1)])])):Object(a["createCommentVNode"])("",!0),1==h.sub_activity.approved?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",J,[$,Object(a["createElementVNode"])("p",null,[K,Q,W,Object(a["createTextVNode"])(Object(a["toDisplayString"])(h.sub_activity.date_approved),1)])])):Object(a["createCommentVNode"])("",!0)])])])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(ee,{modelValue:u.doesAddOpen,"onUpdate:modelValue":t[4]||(t[4]=function(e){return u.doesAddOpen=e}),id:"modal-center",centered:"",title:"Refuser le rapport","title-class":"font-18","hide-footer":""},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("form",{onSubmit:t[3]||(t[3]=Object(a["withModifiers"])((function(e){return f.setStatus(-1)}),["prevent"]))},[Object(a["createElementVNode"])("div",X,[Y,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.message=e}),class:"form-control",rows:"3"},null,512),[[a["vModelText"],h.message]])]),h.loading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ce,ne)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Z,te))],32)]})),_:1},8,["modelValue"])]})),_:1})}c("d3b7");var le=c("3d20"),re=c.n(le),se=c("444f"),ie=c("c2a4"),de=c("2579"),be=c("e01f"),ue={setup:function(){var e=Object(a["ref"])(!1);return{doesAddOpen:e}},page:{title:"Categories",meta:[{name:"description",content:ie.description}]},components:{Layout:se["a"],PageHeader:de["a"]},data:function(){return{title:"Projet",items:[{text:"Menu",href:"/"},{text:"Projet",active:!0},{text:"Un projet",active:!0}],errors:[],id:"",loading:!1,loadingSetStatut:!1,message:"",sub_activity:{},status:201,STORAGE_URL:be["a"].STORAGE_URL}},methods:{getItem:function(){var e=this;fetch(be["a"].route("sub-activities/"+this.id),be["a"].requestOptions()).then((function(e){return be["a"].tokenChecker(e.status),e.json()})).then((function(t){console.log(t.data),e.sub_activity=t.data}))},setStatus:function(e){var t=this;-1==e?this.loading=!0:(this.loadingSetStatut=!0,this.message=""),this.errors=[];var c=new FormData;c.append("approved",e),c.append("message",this.message),fetch(be["a"].route("sub-activities/"+this.id+"/status"),be["a"].requestOptions("POST",c)).then((function(e){return be["a"].tokenChecker(e.status),t.status=e.status,e.json()})).then((function(c){console.log(t.status),console.log(c),t.message="",t.doesAddOpen=!1,0==e?t.loading=!1:t.loadingSetStatut=!1,200==t.status&&(t.sub_activity=c.data,re.a.fire("Rapport envoyé !","Le rapport a été envoyé avec succès.","success"))})).catch((function(c){console.log(c),0==e?t.loading=!1:t.loadingSetStatut=!1}))}},mounted:function(){this.id=this.$route.params.id,this.getItem()}},me=c("6b0d"),Oe=c.n(me);const je=Oe()(ue,[["render",oe]]);t["default"]=je}}]);
//# sourceMappingURL=chunk-2d2167a6.b5e6dd7e.js.map