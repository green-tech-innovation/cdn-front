(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4db69c18"],{2579:function(e,t,r){"use strict";var c=r("7a23"),n={class:"row"},o={class:"col-12"},a={class:"page-title-box d-flex align-items-center justify-content-between"},s={class:"mb-0 font-size-18"},l={class:"page-title-right"};function i(e,t,r,i,d,u){var m=Object(c["resolveComponent"])("b-breadcrumb");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",a,[Object(c["createElementVNode"])("h4",s,Object(c["toDisplayString"])(r.title),1),Object(c["createElementVNode"])("div",l,[Object(c["createVNode"])(m,{items:r.items,class:"m-0"},null,8,["items"])])])])])}var d={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},u=r("6b0d"),m=r.n(u);const b=m()(d,[["render",i]]);t["a"]=b},"7e02":function(e,t,r){"use strict";r.r(t);r("b0c0");var c=r("7a23"),n={class:"bg-dark"},o={class:"bg-white rounded p-0"},a={class:"px-3",style:{height:"430px"}},s={id:"responses",class:"pe-3 pb-3",style:{height:"350px","overflow-y":"auto"}},l={key:0,class:"p-3 bg-light shadow-sm mt-2 rounded"},i={class:"text-primary fs-6"},d={class:"text-black text-decoration-underline fs-6"},u={class:"mb-2"},m={class:"mb-2"},b=["href"],p=Object(c["createElementVNode"])("i",{class:"bx bx-download font-size-16 align-middle mx-1 text-white"},null,-1),O=Object(c["createTextVNode"])(" Télécharger le Fichier "),j=[p,O],f={class:"mb-0 font-size-13 hstack"},h={class:"bx bx-time font-size-14 align-middle mx-1 mt-2"},g={class:"px-1"},x={class:"text-primary fs-6"},E={class:"mb-2"},V=["href"],v=Object(c["createElementVNode"])("i",{class:"bx bx-download font-size-16 align-middle mx-1 text-white"},null,-1),N=Object(c["createTextVNode"])(" Télécharger le Fichier "),k=[v,N],y={class:"mb-0 font-size-13 hstack"},w={class:"bx bx-time font-size-14 align-middle mx-1 mt-2"},C={class:"px-1"},S={class:"w-100"},B={class:"px-2 col-1 text-center"},T=["disabled"],_=Object(c["createElementVNode"])("i",{class:"bx bx-send font-size-16 align-middle me-2"},null,-1),z=Object(c["createTextVNode"])(" Envoyer "),A=[_,z],D={key:1,class:"mt-3 text-center"},F=Object(c["createElementVNode"])("div",{class:"spinner-border text-primary",role:"status"},[Object(c["createElementVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),L=[F],R=Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("div",{class:"progress"},[Object(c["createElementVNode"])("div",{class:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"}})]),Object(c["createElementVNode"])("p",{class:"mt-3 text-center"}," Veuillez patienter le téléchargement du fichier du fichier ")],-1);function U(e,t,r,p,O,v){var N=Object(c["resolveComponent"])("PageHeader"),_=Object(c["resolveComponent"])("b-modal"),z=Object(c["resolveComponent"])("Layout");return Object(c["openBlock"])(),Object(c["createBlock"])(z,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(N,{title:O.title,items:O.items},null,8,["title","items"]),Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",a,[Object(c["createElementVNode"])("div",s,[O.courrier.entity?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("h5",i,Object(c["toDisplayString"])(O.courrier.entity.name),1),Object(c["createElementVNode"])("h5",d,Object(c["toDisplayString"])(O.courrier.object),1),Object(c["createElementVNode"])("p",u,Object(c["toDisplayString"])(O.courrier.message),1),Object(c["createElementVNode"])("p",m,[O.courrier.file?(Object(c["openBlock"])(),Object(c["createElementBlock"])("a",{key:0,href:O.STORAGE_URL+O.courrier.file,target:"_blank",class:"btn btn-primary px-3 rounded-pill"},j,8,b)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("p",f,[Object(c["createElementVNode"])("i",h,[Object(c["createElementVNode"])("span",g,Object(c["toDisplayString"])(O.courrier.created_at),1)])])])):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(O.courrier.courrier_responses,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:e.id,class:"p-3 border shadow-sm mt-2 rounded"},[Object(c["createElementVNode"])("h5",x,Object(c["toDisplayString"])(e.entity.name),1),Object(c["createElementVNode"])("p",E,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.message)+" ",1),e.file?(Object(c["openBlock"])(),Object(c["createElementBlock"])("a",{key:0,href:O.STORAGE_URL+e.file,target:"_blank",class:"btn btn-primary px-3 rounded-pill"},k,8,V)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("p",y,[Object(c["createElementVNode"])("i",w,[Object(c["createElementVNode"])("span",C,Object(c["toDisplayString"])(e.created_at),1)])])])})),128))]),Object(c["createElementVNode"])("form",{onSubmit:t[3]||(t[3]=Object(c["withModifiers"])((function(e){return v.addItem()}),["prevent"])),class:"hstack py-1",style:{height:"80px"}},[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("i",{class:"bx bx-file fs-3 text-primary mx-2 p-2",onClick:t[0]||(t[0]=function(t){return e.$refs.file.click()}),type:"button"}),Object(c["createElementVNode"])("input",{type:"file",hidden:"",accept:".png, .jpg, jpeg, .csv, .xlsx, .pdf, .doc, .docx, .zip, .rar, .mp4, .mp3, .avi",onChange:t[1]||(t[1]=function(){return v.onFileChange&&v.onFileChange.apply(v,arguments)}),id:"file",ref:"file"},null,544)]),Object(c["createElementVNode"])("div",S,[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return O.response=e}),placeholder:"Ecrivez votre message",rows:"2"},null,512),[[c["vModelText"],O.response]])]),Object(c["createElementVNode"])("div",B,[O.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",D,L)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:0,disabled:0==O.response.length,class:"btn btn-primary"},A,8,T))])],32)])])])]),Object(c["createVNode"])(_,{modelValue:p.doesAddOpen,"onUpdate:modelValue":t[4]||(t[4]=function(e){return p.doesAddOpen=e}),id:"modal-center",centered:"","title-class":"font-18","hide-footer":""},{default:Object(c["withCtx"])((function(){return[R]})),_:1},8,["modelValue"])]})),_:1})}r("a4d3"),r("e01a"),r("d3b7");var I=r("444f"),G=r("c2a4"),P=r("2579"),q=r("e01f"),H={setup:function(){var e=Object(c["ref"])(!1);return{doesAddOpen:e}},page:{title:"Categories",meta:[{name:"description",content:G.description}]},components:{Layout:I["a"],PageHeader:P["a"]},data:function(){return{title:"Courriers",items:[{text:"Menu",href:"/"},{text:"Courriers",active:!0}],id:"",courrier:{},response:"",loading:!1,status:201,STORAGE_URL:q["a"].STORAGE_URL}},methods:{getItem:function(){var e=this;fetch(q["a"].route("general/courriers/"+this.id),q["a"].requestOptions()).then((function(e){return q["a"].tokenChecker(e.status),e.json()})).then((function(t){console.log(t),e.courrier=t.data,setTimeout(e.updateScroll,100)})).catch((function(e){console.log(e)}))},addItem:function(){var e=this;this.loading=!0;var t=new FormData;t.append("courrier_id",this.id),t.append("message",this.response),fetch(q["a"].route("courrier-responses"),q["a"].requestOptions("POST",t)).then((function(t){return q["a"].tokenChecker(t.status),e.status=t.status,t.json()})).then((function(t){console.log(e.status),console.log(t),e.loading=!1,200==e.status?(e.response="",e.courrier.courrier_responses.push(t.data),setTimeout(e.updateScroll,100)):e.message.name=q["a"].getError(t.data,"message")})).catch((function(t){console.log(t),e.loading=!1}))},onFileChange:function(e){var t=this,r=e.target.files[0];if(void 0!=r){this.doesAddOpen=!0;var c=new FormData;c.append("file",r),c.append("courrier_id",this.id),fetch(q["a"].route("courrier-responses"),q["a"].requestOptions("POST",c)).then((function(e){return q["a"].tokenChecker(e.status),t.status=e.status,e.json()})).then((function(e){console.log(t.status),console.log(e),200==t.status&&(t.response="",setTimeout((function(){t.doesAddOpen=!1}),100),t.courrier.courrier_responses.push(e.data),setTimeout(t.updateScroll,100))})).catch((function(e){console.log(e),t.doesAddOpen=!1}))}},updateScroll:function(){var e=document.getElementById("responses");e.scrollTop=e.scrollHeight}},mounted:function(){this.id=this.$route.params.id,this.getItem()}},M=r("6b0d"),J=r.n(M);const $=J()(H,[["render",U]]);t["default"]=$}}]);
//# sourceMappingURL=chunk-4db69c18.dc404f84.js.map