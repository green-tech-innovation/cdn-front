{"version":3,"sources":["webpack:///./src/router/views/pages/general/setting.vue","webpack:///./src/router/views/pages/general/setting.vue?ed88"],"names":["class","for","role","error","success","setPassword","type","required","last_password","errors","new_password","confirm_password","loading","disabled","length","value","page","title","meta","name","content","description","components","Layout","data","me","methods","this","formData","FormData","append","fetch","route","requestOptions","then","response","tokenChecker","status","json","message","getError","catch","console","log","__exports__","render"],"mappings":"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","file":"js/chunk-2d22d251.28e66fd0.js","sourcesContent":["<script>\r\n\r\nimport Layout from \"../../../layouts/main\";\r\nimport appConfig from \"@/app.config\";\r\nimport Helper from '@/helpers/helper';\r\n\r\n/**\r\n * Dashboard Component\r\n */\r\nexport default {\r\n    page: {\r\n    title: \"Notifications\",\r\n    meta: [\r\n      {\r\n        name: \"description\",\r\n        content: appConfig.description,\r\n      },\r\n    ],\r\n  },\r\n  components: {\r\n    Layout,\r\n  },\r\n  data() {\r\n    return {\r\n      errors: [],\r\n      me: null,\r\n      loading: false,\r\n      last_password: \"\",\r\n      new_password: \"\",\r\n      confirm_password: \"\",\r\n      error: \"\",\r\n      success: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    setPassword() {\r\n      this.loading = true\r\n      this.error = \"\"\r\n      this.success = \"\"\r\n      let formData = new FormData()\r\n      formData.append('last_password', this.last_password)\r\n      formData.append('new_password', this.new_password)\r\n      fetch(Helper.route('auth/update-password'), Helper.requestOptions(\"POST\", formData))\r\n      .then(response => {\r\n          Helper.tokenChecker(response.status)\r\n          this.status = response.status\r\n          return response.json()\r\n      })\r\n      .then(data => {\r\n        this.loading = false\r\n        if (this.status == 200) {\r\n          if (data.status) {\r\n            this.last_password = \"\"\r\n            this.new_password = \"\"\r\n            this.confirm_password = \"\"\r\n            this.success = data.message\r\n          } else { \r\n            this.error = data.message\r\n          }\r\n        } else {\r\n          this.errors.new_password = Helper.getError(data.data, \"new_password\")\r\n          this.errors.last_password = Helper.getError(data.data, \"last_password\")\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n        this.loading = false\r\n      })\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Layout>\r\n    \r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h4 class=\"card-title mb-0 fw-bold\">Param√®tre</h4>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row m-0\">\r\n          <div class=\"col-lg-6 bg-light p-0\">\r\n            <div class=\"h-100 shadow-sm border-right p-3\">\r\n              <h5 class=\"text-black\">Modifier votre mot de passe</h5>\r\n              <hr class=\"m-0 bg-primary mb-3\">\r\n              \r\n              <div class=\"alert alert-danger mb-2\" v-if=\"error\">{{ error }}</div>\r\n            \r\n              <div class=\"alert alert-success mb-2\" v-if=\"success\">{{ success }}</div>\r\n\r\n              <form @submit.prevent=\"setPassword()\">\r\n                <div class=\"row\">\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"\">Mot de passe actuel</label>\r\n                    <input type=\"password\" required v-model=\"last_password\" class=\"form-control\">\r\n                    <span class=\"text-danger mt-2\" v-if=\"errors.last_password\">{{ errors.last_password }}</span>\r\n                  </div>\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"\">Nouveau mot de passe</label>\r\n                    <input type=\"password\" required v-model=\"new_password\" class=\"form-control\">\r\n                    <span class=\"text-danger mt-2\" v-if=\"errors.new_password\">{{ errors.new_password }}</span>\r\n                  </div>\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"\">Confirmer mot de passe</label>\r\n                    <input type=\"password\" required v-model=\"confirm_password\" class=\"form-control\">\r\n                    <span class=\"text-danger mt-2\" v-if=\"errors.confirm_password\">{{ errors.confirm_password }}</span>\r\n                    <span class=\"text-danger mt-2\" v-if=\"confirm_password != '' && new_password != confirm_password\">Les deux mots de passe ne sont pas identiques</span>\r\n                  </div>\r\n                </div>\r\n                <div v-if=\"!loading\">\r\n                  <input type=\"submit\" :disabled=\"!(last_password.length >= 6 && confirm_password.length >= 6 && new_password == confirm_password)\" value=\"Modifier\" class=\"btn btn-primary\">\r\n                </div>\r\n                <div class=\"mt-3 text-center\" v-else>\r\n                  <div class=\"spinner-border text-primary\" role=\"status\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n\r\n      </div>\r\n    </div>\r\n\r\n\r\n  </Layout>\r\n</template>\r\n","import { render } from \"./setting.vue?vue&type=template&id=b6b66eca\"\nimport script from \"./setting.vue?vue&type=script&lang=js\"\nexport * from \"./setting.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\Projets\\\\VueJs\\\\cdn\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}