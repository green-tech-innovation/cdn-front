{"version":3,"sources":["webpack:///./src/components/page-header.vue","webpack:///./src/components/page-header.vue?c94a","webpack:///./src/router/views/pages/cdn/courriers/show.vue","webpack:///./src/router/views/pages/cdn/courriers/show.vue?1f1a"],"names":["class","title","items","components","props","type","String","default","Array","__exports__","render","style","id","role","aria-valuenow","aria-valuemin","aria-valuemax","courrier","entity","name","object","message","file","href","STORAGE_URL","target","created_at","courrier_responses","courrier_response","key","addItem","$refs","click","hidden","accept","onFileChange","ref","response","placeholder","rows","loading","disabled","length","doesAddOpen","centered","title-class","hide-footer","setup","page","meta","content","description","Layout","PageHeader","data","text","active","status","methods","getItem","fetch","route","this","requestOptions","then","tokenChecker","json","console","log","setTimeout","updateScroll","catch","error","formData","FormData","append","push","getError","e","files","undefined","element","document","getElementById","scrollTop","scrollHeight","mounted","$route","params"],"mappings":"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","file":"js/chunk-4dbadc18.f599cec0.js","sourcesContent":["<script>\nexport default {\n  components: {},\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    items: {\n      type: Array,\n      default: () => {\n        return []\n      },\n    },\n  },\n}\n</script>\n\n<template>\n  <!-- start page title -->\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <div class=\"page-title-box d-flex align-items-center justify-content-between\">\n        <h4 class=\"mb-0 font-size-18\">{{ title }}</h4>\n\n        <div class=\"page-title-right\">\n          <b-breadcrumb :items=\"items\" class=\"m-0\"></b-breadcrumb>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- end page title -->\n</template>\n","import { render } from \"./page-header.vue?vue&type=template&id=e08f28f6\"\nimport script from \"./page-header.vue?vue&type=script&lang=js\"\nexport * from \"./page-header.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\Projets\\\\VueJs\\\\cdn\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\r\nimport Layout from \"../../../../layouts/main\";\r\nimport appConfig from \"@/app.config\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport Helper from '@/helpers/helper';\r\n\r\nimport { ref } from \"vue\";\r\n\r\n\r\n/**\r\n * Dashboard Component\r\n */\r\nexport default {\r\n    setup() {\r\n        const doesAddOpen = ref(false);\r\n\r\n        return {\r\n          doesAddOpen,\r\n        };\r\n    },\r\n    page: {\r\n    title: \"Categories\",\r\n    meta: [\r\n      {\r\n        name: \"description\",\r\n        content: appConfig.description,\r\n      },\r\n    ],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"Discussions\",\r\n      items: [\r\n        {\r\n          text: \"Menu\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Discussions\",\r\n          active: true,\r\n        },\r\n      ],\r\n      id: \"\",\r\n      courrier: {},\r\n      response: \"\",\r\n      loading: false,\r\n      status: 201,\r\n      STORAGE_URL: Helper.STORAGE_URL,\r\n    };\r\n  },\r\n  methods: {\r\n    getItem() {\r\n      fetch(Helper.route('courriers/'+this.id), Helper.requestOptions())\r\n      .then(response => {\r\n          Helper.tokenChecker(response.status)\r\n          return response.json()\r\n      })\r\n      .then(data => {\r\n        console.log(data.data);\r\n        this.courrier = data.data\r\n        setTimeout(this.updateScroll, 100);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      })\r\n    },\r\n    addItem() {\r\n      this.loading = true\r\n      let formData = new FormData()\r\n      formData.append('courrier_id', this.id)\r\n      formData.append('message', this.response)\r\n      fetch(Helper.route('courrier-responses'), Helper.requestOptions(\"POST\", formData))\r\n      .then(response => {\r\n          Helper.tokenChecker(response.status)\r\n          this.status = response.status\r\n          return response.json()\r\n      })\r\n      .then(data => {\r\n        console.log(this.status);\r\n        console.log(data);\r\n        this.loading = false\r\n        if (this.status == 200) {\r\n          this.response = \"\"\r\n          this.courrier.courrier_responses.push(data.data)\r\n          setTimeout(this.updateScroll, 100);\r\n        } else {\r\n          this.message.name = Helper.getError(data.data, \"message\")\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        this.loading = false\r\n      })\r\n    },\r\n    onFileChange(e) {\r\n      let file = e.target.files[0];\r\n      if (file != undefined) {\r\n        this.doesAddOpen = true\r\n        let formData = new FormData()\r\n        formData.append('file', file)\r\n        formData.append('courrier_id', this.id)\r\n        fetch(Helper.route('courrier-responses'), Helper.requestOptions(\"POST\", formData))\r\n        .then(response => {\r\n            Helper.tokenChecker(response.status)\r\n            this.status = response.status\r\n            return response.json()\r\n        })\r\n        .then(data => {\r\n          console.log(this.status);\r\n          console.log(data);\r\n          if (this.status == 200) {\r\n            this.response = \"\"\r\n\r\n            setTimeout(() => {\r\n              this.doesAddOpen = false\r\n            }, 100);\r\n\r\n            this.courrier.courrier_responses.push(data.data)\r\n            setTimeout(this.updateScroll, 100);\r\n          } \r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          this.doesAddOpen = false\r\n        })\r\n      }\r\n    },\r\n    updateScroll() {\r\n      var element = document.getElementById(\"responses\");\r\n      element.scrollTop = element.scrollHeight;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.id = this.$route.params.id\r\n    this.getItem()\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\" />\r\n\r\n    \r\n    \r\n    <div class=\"bg-dark\">\r\n      <div>\r\n        <div class=\"bg-white rounded p-0\">\r\n          <div class=\"px-3\" style=\"height: 430px;\">            \r\n            <div id=\"responses\" class=\"pe-3 pb-3\" style=\"height: 350px; overflow-y: auto;\">\r\n              \r\n                <div class=\"p-3 bg-light shadow-sm mt-2 rounded\" v-if=\"courrier.entity\">\r\n                    <h5 class=\"text-primary fs-6\">{{ courrier.entity.name }}</h5>\r\n                    <h5 class=\"text-black text-decoration-underline fs-6\">{{ courrier.object }}</h5>\r\n                    <p class=\"mb-2\">\r\n                        {{ courrier.message }}\r\n                    </p>\r\n                    <p class=\"mb-2\">\r\n                        <a :href=\"STORAGE_URL+courrier.file\" v-if=\"courrier.file\" target=\"_blank\" class=\"btn btn-primary px-3 rounded-pill\">\r\n                            <i class=\"bx bx-download font-size-16 align-middle mx-1 text-white\"></i>\r\n                            Télécharger le Fichier\r\n                        </a>\r\n                    </p>\r\n                    <p class=\"mb-0 font-size-13 hstack\">\r\n                        <i class=\"bx bx-time font-size-14 align-middle mx-1 mt-2\"><span class=\"px-1\">{{ courrier.created_at }}</span></i>\r\n                    </p>\r\n                </div>\r\n              \r\n                <div v-for=\"courrier_response in courrier.courrier_responses\" :key=\"courrier_response.id\" class=\"p-3 border shadow-sm mt-2 rounded\">\r\n                    <h5 class=\"text-primary fs-6\">{{ courrier_response.entity.name }}</h5>\r\n                    <p class=\"mb-2\">\r\n                    {{ courrier_response.message }}\r\n                    <a :href=\"STORAGE_URL+courrier_response.file\" v-if=\"courrier_response.file\" target=\"_blank\" class=\"btn btn-primary px-3 rounded-pill\">\r\n                        <i class=\"bx bx-download font-size-16 align-middle mx-1 text-white\"></i>\r\n                        Télécharger le Fichier\r\n                        </a>\r\n                    </p>\r\n                    <p class=\"mb-0 font-size-13 hstack\">\r\n                    <i class=\"bx bx-time font-size-14 align-middle mx-1 mt-2\"><span class=\"px-1\">{{ courrier_response.created_at }}</span></i>\r\n                    </p>\r\n                </div>\r\n              \r\n              \r\n            </div>\r\n\r\n            <form @submit.prevent=\"addItem()\" class=\"hstack py-1\" style=\"height: 80px;\">\r\n              <div>\r\n                <i class=\"bx bx-file fs-3 text-primary mx-2 p-2\"  @click=\"$refs.file.click()\" type=\"button\"></i>\r\n                <input type=\"file\" hidden accept=\".png, .jpg, jpeg, .csv, .xlsx, .pdf, .doc, .docx, .zip, .rar, .mp4, .mp3, .avi\" @change=\"onFileChange\" id=\"file\" ref=\"file\" >\r\n              </div>\r\n              <div class=\"w-100\">\r\n                <textarea class=\"form-control\" v-model=\"response\" placeholder=\"Ecrivez votre message\" rows=\"2\"></textarea>\r\n              </div>\r\n              <div class=\"px-2 col-1 text-center\">\r\n                <button :disabled=\"response.length == 0\" class=\"btn btn-primary\" v-if=\"!loading\">\r\n                  <i class=\"bx bx-send font-size-16 align-middle me-2\"></i>\r\n                  Envoyer\r\n                </button>\r\n                <div class=\"mt-3 text-center\" v-else>\r\n                  <div class=\"spinner-border text-primary\" role=\"status\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <!-- ADD MODAL -->\r\n    <b-modal\r\n        v-model=\"doesAddOpen\"\r\n        id=\"modal-center\"\r\n        centered\r\n        title-class=\"font-18\"\r\n        hide-footer\r\n        >\r\n        <div>\r\n          \r\n          <div class=\"progress\">\r\n            <div class=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 100%\"></div>\r\n          </div>\r\n\r\n          <p class=\"mt-3 text-center\">\r\n            Veuillez patienter le téléchargement du fichier du fichier\r\n          </p>\r\n\r\n        </div>\r\n    </b-modal>\r\n\r\n  </Layout>\r\n</template>\r\n","import { render } from \"./show.vue?vue&type=template&id=061905bd\"\nimport script from \"./show.vue?vue&type=script&lang=js\"\nexport * from \"./show.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\Projets\\\\VueJs\\\\cdn\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}