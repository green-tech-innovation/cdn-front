{"version":3,"sources":["webpack:///./src/router/views/pages/cdn/courriers/index.vue","webpack:///./src/router/views/pages/cdn/courriers/index.vue?9a1d"],"names":["class","scope","style","for","type","id","value","role","title","items","variant","doesAddOpen","courriers","courrier_","i","key","to","object","message","created_at","centered","size","title-class","hide-footer","addItem","required","to_id","entities","entity","name","errors","file","rows","loading","doesEditOpen","editItem","doesDeleteOpen","courrier","deleteIt","setup","page","meta","content","description","components","Layout","PageHeader","data","text","href","active","status","methods","loadList","fetch","route","requestOptions","then","response","tokenChecker","json","console","log","loadEntities","this","formData","FormData","append","undefined","document","getElementById","files","initData","push","fire","getError","catch","error","get","map","filter","initItem","action","item","mounted","watch","__exports__","render"],"mappings":"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","file":"js/chunk-2d2264e0.582f5665.js","sourcesContent":["<script>\r\nimport Swal from 'sweetalert2'\r\n\r\nimport Layout from \"../../../../layouts/main\";\r\nimport appConfig from \"@/app.config\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport Helper from '@/helpers/helper';\r\n\r\nimport { ref } from \"vue\";\r\n\r\n\r\n/**\r\n * Dashboard Component\r\n */\r\nexport default {\r\n    setup() {\r\n        const doesAddOpen = ref(false);\r\n        const doesEditOpen = ref(false);\r\n        const doesDeleteOpen = ref(false);\r\n\r\n        return {\r\n        doesAddOpen,\r\n        doesEditOpen,\r\n        doesDeleteOpen,\r\n        };\r\n    },\r\n    page: {\r\n    title: \"Courriers\",\r\n    meta: [\r\n      {\r\n        name: \"description\",\r\n        content: appConfig.description,\r\n      },\r\n    ],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"Courriers\",\r\n      items: [\r\n        {\r\n          text: \"Menu\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Courriers\",\r\n          active: true,\r\n        },\r\n      ],\r\n      errors: [],\r\n      courrier: {},\r\n      courriers: [],\r\n      entities: [],\r\n      object: \"\",\r\n      message: \"\",\r\n      to_id: \"\",\r\n      loading: false,\r\n      status: 201,\r\n    };\r\n  },\r\n  methods: {\r\n    loadList() {\r\n      fetch(Helper.route('courriers'), Helper.requestOptions())\r\n      .then(response => {\r\n          Helper.tokenChecker(response.status)\r\n          return response.json()\r\n      })\r\n      .then(data => {\r\n        console.log(data.data);\r\n        this.courriers = data.data\r\n      })\r\n    },\r\n    loadEntities() {\r\n      fetch(Helper.route('entities'), Helper.requestOptions())\r\n      .then(response => {\r\n          Helper.tokenChecker(response.status)\r\n          return response.json()\r\n      })\r\n      .then(data => {\r\n        this.entities = data.data\r\n      })\r\n    },\r\n    addItem() {\r\n      this.loading = true\r\n      this.errors = []\r\n      let formData = new FormData()\r\n      formData.append('object', this.object)\r\n      formData.append('message', this.message)\r\n      formData.append(\"to_id\", this.to_id)\r\n      if (document.getElementById(\"file\").files[0] != undefined) {\r\n        formData.append('file', document.getElementById(\"file\").files[0])\r\n      }\r\n      fetch(Helper.route('courriers'), Helper.requestOptions(\"POST\", formData))\r\n      .then(response => {\r\n          Helper.tokenChecker(response.status)\r\n          this.status = response.status\r\n          return response.json()\r\n      })\r\n      .then(data => {\r\n        console.log(this.status);\r\n        console.log(data);\r\n        this.loading = false\r\n        if (this.status == 200) {\r\n          this.initData(null)\r\n          this.doesAddOpen = false\r\n          this.courriers.push(data.data)\r\n          Swal.fire(\"Courrier ajouter !\", \"Le courrier a été enregistré avec succès.\", \"success\");\r\n        } else {\r\n          this.errors.object = Helper.getError(data.data, \"object\")\r\n          this.errors.message = Helper.getError(data.data, \"message\")\r\n          this.errors.file = Helper.getError(data.data, \"file\")\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        this.loading = false\r\n      })\r\n    },\r\n    editItem() {\r\n      this.loading = true\r\n      this.errors = []\r\n      let formData = new FormData()\r\n      formData.append('object', this.object)\r\n      formData.append('message', this.message)\r\n      if (document.getElementById(\"file1\").files[0] != undefined) {\r\n        formData.append('file', document.getElementById(\"file1\").files[0])\r\n      }\r\n      formData.append('_method', \"PUT\")\r\n      console.log(formData.get(\"name\"), 'id', this.courrier.id);\r\n      fetch(Helper.route('courriers/'+this.courrier.id), Helper.requestOptions(\"POST\", formData))\r\n      .then(response => {\r\n          Helper.tokenChecker(response.status)\r\n          this.status = response.status\r\n          return response.json()\r\n      })\r\n      .then(data => {\r\n        console.log(this.status);\r\n        console.log('last',this.courrier);\r\n        console.log('new',data);\r\n        this.loading = false\r\n        if (this.status == 200) {\r\n          this.doesEditOpen = false\r\n          this.courriers = this.courriers.map(i => i.id !== this.courrier.id ? i : data.data)\r\n          Swal.fire(\"Courrier modifier !\", \"Le courrier a été modifié avec succès.\", \"success\");\r\n        } else {\r\n          this.errors.object = Helper.getError(data.data, \"object\")\r\n          this.errors.message = Helper.getError(data.data, \"message\")\r\n          this.errors.file = Helper.getError(data.data, \"file\")\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        this.loading = false\r\n      })\r\n    },\r\n    deleteIt() {\r\n      this.loading = true\r\n      fetch(Helper.route('courriers/'+this.courrier.id), Helper.requestOptions(\"DELETE\"))\r\n      .then(response => {\r\n          Helper.tokenChecker(response.status)\r\n          this.status = response.status\r\n          return response.text()\r\n      })\r\n      .then(data => {\r\n        console.log(this.status);\r\n        console.log(data);\r\n        this.loading = false\r\n        this.doesDeleteOpen = false\r\n        if (this.status == 204) {\r\n          this.courriers = this.courriers.filter(i => i.id !== this.courrier.id)\r\n          Swal.fire(\"Courrier supprimer !\", \"Le courrier a été supprimé avec succès.\", \"success\");\r\n        } else {\r\n          Swal.fire(\"Courrier non supprimer ?\", \"La suppression n'a pas marché, veuillez réssayez plus tard.\", \"error\");\r\n        }\r\n      })\r\n    },\r\n    initItem(courrier, action=\"edit\") {\r\n        this.courrier = courrier\r\n        this.initData(courrier)\r\n        if (action == \"delete\") {\r\n          this.doesDeleteOpen = true\r\n        } else {\r\n          this.doesEditOpen = true\r\n        }\r\n    },\r\n    initData(item = null) {\r\n      this.object = item != null ? item.object : \"\"\r\n      this.message = item != null ? item.message : \"\"\r\n      this.to_id = item != null ? item.to_id : \"\"\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadList()\r\n    this.loadEntities()\r\n  },\r\n  watch: {\r\n    doesAddOpen: function() {\r\n      this.errors = []\r\n    },\r\n    doesEditOpen: function() {\r\n      this.errors = []\r\n      if (!this.doesEditOpen) {\r\n        this.courrier = null\r\n        this.initData(null)\r\n      }\r\n    },\r\n    doesDeleteOpen: function() {\r\n      if (!this.doesDeleteOpen) {\r\n        this.courrier = null\r\n        this.initData(null)\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\" />\r\n\r\n    <div class=\"hstack mb-3\">\r\n        <b-button variant=\"primary\" @click=\"doesAddOpen = true\" class=\"ms-auto\">\r\n            <i class=\"bx bx-plus font-size-16 align-middle me-2\"></i>\r\n            Ajouter un nouveau\r\n        </b-button>\r\n    </div>\r\n    \r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h4 class=\"card-title\">Listes des courriers</h4>\r\n            <p class=\"card-title-desc\">\r\n              Le tableau ci-dessous présente la listes des <code>courriers</code>.\r\n            </p>\r\n\r\n            <div class=\"table-responsive\">\r\n              <table class=\"table align-middle mb-0\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>Objet </th>\r\n                    <th>Message </th>\r\n                    <th>Date </th>\r\n                    <!-- <th>Action</th> -->\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(courrier_, i) in courriers\" :key=\"courrier_.id\">\r\n                    <th scope=\"row\">{{ i + 1 }}</th>\r\n                    <td>\r\n                      <router-link :to=\"'/cdn/courriers/'+courrier_.id\">{{ courrier_.object }}</router-link>\r\n                    </td>\r\n                    <td class=\" text-truncate\" style=\"max-width: 350px;\">{{ courrier_.message }}</td>\r\n                    <td>{{ courrier_.created_at }}</td>\r\n                    <!-- <td>\r\n                        <b-button class=\"btn-sm d-none\" @click=\"initItem(courrier_)\" variant=\"success\">\r\n                            <i\r\n                            class=\"bx bx-edit font-size-16 align-middle mx-1\"\r\n                            ></i>\r\n                        </b-button>\r\n                        <b-button variant=\"danger\" @click=\"initItem(courrier_, 'delete')\" class=\"ms-2 btn-sm\">\r\n                            <i class=\"bx bx-trash font-size-16 align-middle mx-1\"></i>\r\n                        </b-button>\r\n                    </td> -->\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ADD MODAL -->\r\n    <b-modal\r\n        v-model=\"doesAddOpen\"\r\n        id=\"modal-center\"\r\n        centered\r\n        size=\"lg\"\r\n        title=\"Ajouter un courrier\"\r\n        title-class=\"font-18\"\r\n        hide-footer\r\n        >\r\n        <form @submit.prevent=\"addItem()\">\r\n          <div class=\"row\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"\">Selectionnez l'entité</label>\r\n              <select required v-model=\"to_id\" class=\"form-control\">\r\n                  <template v-for=\"entity in entities\" :key=\"entity.id\">\r\n                    <option :value=\"entity.id\">{{ entity.name }}</option>\r\n                  </template>\r\n              </select>\r\n              <span class=\"text-danger mt-2\" v-if=\"errors.to_id\">{{ errors.to_id }}</span>\r\n            </div>\r\n            <div class=\"col-md-6 mb-3\">\r\n              <label for=\"\">Objet du courrier</label>\r\n              <input type=\"text\" required v-model=\"object\" class=\"form-control\">\r\n              <span class=\"text-danger mt-2\" v-if=\"errors.object\">{{ errors.object }}</span>\r\n            </div>\r\n            <div class=\"col-md-6 mb-3\">\r\n              <label for=\"\">Fichier du courrier (Facultatif)</label>\r\n              <input type=\"file\" id=\"file\" class=\"form-control\">\r\n              <span class=\"text-danger mt-2\" v-if=\"errors.file\">{{ errors.file }}</span>\r\n            </div>\r\n          </div>\r\n          <div>\r\n              <label for=\"\">Message du courrier</label>\r\n              <textarea v-model=\"message\" required class=\"form-control\" rows=\"4\"></textarea>\r\n          </div>\r\n          <div class=\"mt-3\" v-if=\"!loading\">\r\n            <input type=\"submit\" value=\"Enregistrer\" class=\"btn btn-primary\">\r\n          </div>\r\n          <div class=\"mt-3 text-center\" v-else>\r\n            <div class=\"spinner-border text-primary\" role=\"status\">\r\n              <span class=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </form>\r\n    </b-modal>\r\n\r\n\r\n    <!-- EDIT MODAL -->\r\n    <b-modal\r\n        v-model=\"doesEditOpen\"\r\n        id=\"modal-center\"\r\n        centered\r\n        size=\"lg\"\r\n        title=\"Modifier le courrier\"\r\n        title-class=\"font-18\"\r\n        hide-footer\r\n        >\r\n        <form @submit.prevent=\"editItem()\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6 mb-3\">\r\n              <label for=\"\">Nom du courrier</label>\r\n              <input type=\"text\" required v-model=\"object\" class=\"form-control\">\r\n              <span class=\"text-danger mt-2\" v-if=\"errors.object\">{{ errors.object }}</span>\r\n            </div>\r\n            <div class=\"col-md-6 mb-3\">\r\n              <label for=\"\">Fichier du courrier (Facultatif)</label>\r\n              <input type=\"file\" id=\"file1\" class=\"form-control\">\r\n              <span class=\"text-danger mt-2\" v-if=\"errors.file\">{{ errors.file }}</span>\r\n            </div>\r\n          </div>\r\n          <div>\r\n              <label for=\"\">Message du courrier</label>\r\n              <textarea v-model=\"message\" required class=\"form-control\" rows=\"4\"></textarea>\r\n          </div>\r\n          <div class=\"mt-3\" v-if=\"!loading\">\r\n            <input type=\"submit\" value=\"Enregistrer\" class=\"btn btn-primary\">\r\n          </div>\r\n          <div class=\"mt-3 text-center\" v-else>\r\n            <div class=\"spinner-border text-primary\" role=\"status\">\r\n              <span class=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </form>\r\n    </b-modal>\r\n\r\n\r\n    <!-- DELETE MODAL -->\r\n    <b-modal\r\n        v-model=\"doesDeleteOpen\"\r\n        id=\"modal-center\"\r\n        title=\"Supprimer le courrier\"\r\n        title-class=\"font-18\"\r\n        hide-footer\r\n        >\r\n        <p class=\"mb-2\">\r\n            Voulez-vous vraiment supprimer le courrier <b>{{ courrier?.name }}</b>\r\n        </p>\r\n        <div class=\"hstack mt-2\" v-if=\"!loading\">\r\n          <button class=\"btn btn-dark ms-auto\" @click=\"doesDeleteOpen = false\">Annuler</button>\r\n          <button class=\"ms-3 btn btn-danger\" @click=\"deleteIt()\">Supprimer</button>\r\n        </div>\r\n        <div class=\"text-center\" v-else>\r\n          <div class=\"spinner-border text-primary\" role=\"status\">\r\n            <span class=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n        </div>\r\n    </b-modal>\r\n\r\n\r\n  </Layout>\r\n</template>\r\n","import { render } from \"./index.vue?vue&type=template&id=397889c8\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\Projets\\\\VueJs\\\\cdn\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}