(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4dbadc18"],{2579:function(e,t,c){"use strict";var n=c("7a23"),r={class:"row"},o={class:"col-12"},a={class:"page-title-box d-flex align-items-center justify-content-between"},s={class:"mb-0 font-size-18"},l={class:"page-title-right"};function i(e,t,c,i,d,u){var m=Object(n["resolveComponent"])("b-breadcrumb");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",a,[Object(n["createElementVNode"])("h4",s,Object(n["toDisplayString"])(c.title),1),Object(n["createElementVNode"])("div",l,[Object(n["createVNode"])(m,{items:c.items,class:"m-0"},null,8,["items"])])])])])}var d={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},u=c("6b0d"),m=c.n(u);const b=m()(d,[["render",i]]);t["a"]=b},"411d":function(e,t,c){"use strict";c.r(t);c("b0c0");var n=c("7a23"),r={class:"bg-dark"},o={class:"bg-white rounded p-0"},a={class:"px-3",style:{height:"430px"}},s={id:"responses",class:"pe-3 pb-3",style:{height:"350px","overflow-y":"auto"}},l={key:0,class:"p-3 bg-light shadow-sm mt-2 rounded"},i={class:"text-primary fs-6"},d={class:"text-black text-decoration-underline fs-6"},u={class:"mb-2"},m={class:"mb-2"},b=["href"],p=Object(n["createElementVNode"])("i",{class:"bx bx-download font-size-16 align-middle mx-1 text-white"},null,-1),O=Object(n["createTextVNode"])(" Télécharger le Fichier "),j=[p,O],f={class:"mb-0 font-size-13 hstack"},h={class:"bx bx-time font-size-14 align-middle mx-1 mt-2"},g={class:"px-1"},x={class:"text-primary fs-6"},E={class:"mb-2"},V=["href"],v=Object(n["createElementVNode"])("i",{class:"bx bx-download font-size-16 align-middle mx-1 text-white"},null,-1),N=Object(n["createTextVNode"])(" Télécharger le Fichier "),k=[v,N],y={class:"mb-0 font-size-13 hstack"},w={class:"bx bx-time font-size-14 align-middle mx-1 mt-2"},S={class:"px-1"},B={class:"w-100"},C={class:"px-2 col-1 text-center"},T=["disabled"],_=Object(n["createElementVNode"])("i",{class:"bx bx-send font-size-16 align-middle me-2"},null,-1),D=Object(n["createTextVNode"])(" Envoyer "),z=[_,D],A={key:1,class:"mt-3 text-center"},F=Object(n["createElementVNode"])("div",{class:"spinner-border text-primary",role:"status"},[Object(n["createElementVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),L=[F],R=Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",{class:"progress"},[Object(n["createElementVNode"])("div",{class:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"}})]),Object(n["createElementVNode"])("p",{class:"mt-3 text-center"}," Veuillez patienter le téléchargement du fichier du fichier ")],-1);function U(e,t,c,p,O,v){var N=Object(n["resolveComponent"])("PageHeader"),_=Object(n["resolveComponent"])("b-modal"),D=Object(n["resolveComponent"])("Layout");return Object(n["openBlock"])(),Object(n["createBlock"])(D,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(N,{title:O.title,items:O.items},null,8,["title","items"]),Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",a,[Object(n["createElementVNode"])("div",s,[O.courrier.entity?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",l,[Object(n["createElementVNode"])("h5",i,Object(n["toDisplayString"])(O.courrier.entity.name),1),Object(n["createElementVNode"])("h5",d,Object(n["toDisplayString"])(O.courrier.object),1),Object(n["createElementVNode"])("p",u,Object(n["toDisplayString"])(O.courrier.message),1),Object(n["createElementVNode"])("p",m,[O.courrier.file?(Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{key:0,href:O.STORAGE_URL+O.courrier.file,target:"_blank",class:"btn btn-primary px-3 rounded-pill"},j,8,b)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("p",f,[Object(n["createElementVNode"])("i",h,[Object(n["createElementVNode"])("span",g,Object(n["toDisplayString"])(O.courrier.created_at),1)])])])):Object(n["createCommentVNode"])("",!0),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(O.courrier.courrier_responses,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e.id,class:"p-3 border shadow-sm mt-2 rounded"},[Object(n["createElementVNode"])("h5",x,Object(n["toDisplayString"])(e.entity.name),1),Object(n["createElementVNode"])("p",E,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.message)+" ",1),e.file?(Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{key:0,href:O.STORAGE_URL+e.file,target:"_blank",class:"btn btn-primary px-3 rounded-pill"},k,8,V)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("p",y,[Object(n["createElementVNode"])("i",w,[Object(n["createElementVNode"])("span",S,Object(n["toDisplayString"])(e.created_at),1)])])])})),128))]),Object(n["createElementVNode"])("form",{onSubmit:t[3]||(t[3]=Object(n["withModifiers"])((function(e){return v.addItem()}),["prevent"])),class:"hstack py-1",style:{height:"80px"}},[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("i",{class:"bx bx-file fs-3 text-primary mx-2 p-2",onClick:t[0]||(t[0]=function(t){return e.$refs.file.click()}),type:"button"}),Object(n["createElementVNode"])("input",{type:"file",hidden:"",accept:".png, .jpg, jpeg, .csv, .xlsx, .pdf, .doc, .docx, .zip, .rar, .mp4, .mp3, .avi",onChange:t[1]||(t[1]=function(){return v.onFileChange&&v.onFileChange.apply(v,arguments)}),id:"file",ref:"file"},null,544)]),Object(n["createElementVNode"])("div",B,[Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return O.response=e}),placeholder:"Ecrivez votre message",rows:"2"},null,512),[[n["vModelText"],O.response]])]),Object(n["createElementVNode"])("div",C,[O.loading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",A,L)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,disabled:0==O.response.length,class:"btn btn-primary"},z,8,T))])],32)])])])]),Object(n["createVNode"])(_,{modelValue:p.doesAddOpen,"onUpdate:modelValue":t[4]||(t[4]=function(e){return p.doesAddOpen=e}),id:"modal-center",centered:"","title-class":"font-18","hide-footer":""},{default:Object(n["withCtx"])((function(){return[R]})),_:1},8,["modelValue"])]})),_:1})}c("a4d3"),c("e01a"),c("d3b7");var I=c("444f"),G=c("c2a4"),P=c("2579"),q=c("e01f"),H={setup:function(){var e=Object(n["ref"])(!1);return{doesAddOpen:e}},page:{title:"Categories",meta:[{name:"description",content:G.description}]},components:{Layout:I["a"],PageHeader:P["a"]},data:function(){return{title:"Discussions",items:[{text:"Menu",href:"/"},{text:"Discussions",active:!0}],id:"",courrier:{},response:"",loading:!1,status:201,STORAGE_URL:q["a"].STORAGE_URL}},methods:{getItem:function(){var e=this;fetch(q["a"].route("courriers/"+this.id),q["a"].requestOptions()).then((function(e){return q["a"].tokenChecker(e.status),e.json()})).then((function(t){console.log(t.data),e.courrier=t.data,setTimeout(e.updateScroll,100)})).catch((function(e){console.log(e)}))},addItem:function(){var e=this;this.loading=!0;var t=new FormData;t.append("courrier_id",this.id),t.append("message",this.response),fetch(q["a"].route("courrier-responses"),q["a"].requestOptions("POST",t)).then((function(t){return q["a"].tokenChecker(t.status),e.status=t.status,t.json()})).then((function(t){console.log(e.status),console.log(t),e.loading=!1,200==e.status?(e.response="",e.courrier.courrier_responses.push(t.data),setTimeout(e.updateScroll,100)):e.message.name=q["a"].getError(t.data,"message")})).catch((function(t){console.log(t),e.loading=!1}))},onFileChange:function(e){var t=this,c=e.target.files[0];if(void 0!=c){this.doesAddOpen=!0;var n=new FormData;n.append("file",c),n.append("courrier_id",this.id),fetch(q["a"].route("courrier-responses"),q["a"].requestOptions("POST",n)).then((function(e){return q["a"].tokenChecker(e.status),t.status=e.status,e.json()})).then((function(e){console.log(t.status),console.log(e),200==t.status&&(t.response="",setTimeout((function(){t.doesAddOpen=!1}),100),t.courrier.courrier_responses.push(e.data),setTimeout(t.updateScroll,100))})).catch((function(e){console.log(e),t.doesAddOpen=!1}))}},updateScroll:function(){var e=document.getElementById("responses");e.scrollTop=e.scrollHeight}},mounted:function(){this.id=this.$route.params.id,this.getItem()}},M=c("6b0d"),J=c.n(M);const $=J()(H,[["render",U]]);t["default"]=$}}]);
//# sourceMappingURL=chunk-4dbadc18.f599cec0.js.map